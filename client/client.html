<!DOCTYPE html>
<html lang="en">
<head>
  <title>Project 1 - API Powered App</title>
  <link rel="stylesheet" type="text/css" href="/style.css">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
  <script type="text/babel">

  //parsing the json for Sunday Tasks
  const parseJSON = (xhr, listSun) => {
    const obj = JSON.parse(xhr.response);
    console.dir(obj);

    //printing out the error message if the user did not input a task
    if (obj.message) {
      const li = document.createElement('li');
      li.textContent = `Error: ${obj.message}`;
      listSun.appendChild(li);
    }

    //if the user did submit a task append it to the unordered list
    // if (obj.task) {
      // const userTask = document.createElement('li');
      // const task = JSON.stringify(obj.task);
      // userTask.textContent = task;
      // listSun.appendChild(userTask);
    // }
  };

//function to handle responses for sunday's tasks
  const handleResponse = (xhr) => {
      const listSun = document.querySelector('#listSun');
      
      //check the status code
      switch(xhr.status) {
        case 200: //success
          content.innerHTML = `<b>Success</b>`;
          break;
        case 201: //created
          content.innerHTML = '<b>Create</b>';
          break;
        case 204: //updated (no response back from server)
          content.innerHTML = '<b>Updated (No Content)</b>';
          return;
        case 400: //bad request
          content.innerHTML = `<b>Bad Request</b>`;
          break;
        case 404: //bad request
          content.innerHTML = `<b>Resource Not Found</b>`;
          break;
        default: //any other status code
          content.innerHTML = `Error code not implemented by client.`;
          break;
      }

      parseJSON(xhr, listSun);
    };

    // const init = () => {

    // }

    // window.onload = init;

  </script>
</head>
<body>

  <div id="mainContainer">

    <div id="headContainer">
        <!-- Title of the project -->
        <h1>API Powered Project - Daily Notes App</h1>
        
        <!-- Setting up week input form -->
        <form id="weekInputForm" action="/addWeek" method="post">
          <!-- Label for the input box -->
          <label for="week">Add A Week: </label>
          <!-- Input box -->
          <input id="weekField" type="text" name="week">
            <!-- Button to add the week to the week select menu -->
          <input type="submit" value="Add Week"/>
        </form>

        <!-- Setting up week select menu -->
        <form id="weekMenuForm" action="/getWeek" method="get">
          <!-- Select menu -->
          <label for="selectWeek">Choose A Week: </label>
          <select id="urlField" name="selectWeek">
            <option value="/starterWeek">Starting Week (/starterWeek)</option>
          </select>
          <input type="submit" value="Get Week"/>
        </form>
        <!-- Button to clear the daily bullet points for a given week -->
        <button id="clearWk">Clear Week</button>
        
    </div>


    <div id="dailyContainer">
        <h2>Sunday</h2>
        <form id="sundayForm" action="/addTask" method="post">
          <label for="noteSun">Add Some Tasks: </label>
          <input class="noteField" type="text" id="noteSun"/> 
          <input type="submit" value="Add Task Sunday"/>
            <ul id="listSun">
              <li>Filler example text</li>
              <li>Filler example text</li>
              <li>Filler example text</li>
            </ul>
        </form>

        <br>

        <h2>Monday</h2>
        <form id="mondayForm" action="/addTask" method="post">
          <label for="noteMon">Add Some Tasks: </label>
          <input class="noteField" type="text" id="noteMon" /> 
          <input type="submit" value="Add Task Monday"/>
            <ul id="listMon">
              <li>Filler example text</li>
            </ul>
        </form>

        <br>

        <h2>Tuesday</h2>
        <form id="tuesdayForm" action="/addTask" method="post">
          <label for="noteTue">Add Some Tasks: </label>
          <input class="noteField" type="text" id="noteTue" /> 
          <input type="submit" value="Add Task Tuesday"/>
            <ul id="listTue">
              <li>Filler example text</li>
              <li>Filler example text</li>
            </ul>
        </form>

        <br>

        <h2>Wednesday</h2>
        <form id="wednesdayForm" action="/addTask" method="post">
          <label for="noteWed">Add Some Tasks: </label>
          <input class="noteField" type="text" id="noteWed" /> 
          <input type="submit" value="Add Task Wednesday"/>
            <ul id="listWed">
              <li>Filler example text</li>
              <li>Filler example text</li>
              <li>Filler example text</li>
              <li>Filler example text</li>
            </ul>
        </form>

        <br>

        <h2>Thursday</h2>
        <form id="thursdayForm" action="/addTask" method="post">
          <label for="noteThu">Add Some Tasks: </label>
          <input class="noteField" type="text" id="noteThu" /> 
          <input type="submit" value="Add Task Thursday"/>
            <ul id="listThu">
              <li>Filler example text</li>
              <li>Filler example text</li>
            </ul>
        </form>

        <br>

        <h2>Friday</h2>
        <form id="fridayForm" action="/addTask" method="post">
          <label for="noteFri">Add Some Tasks: </label>
          <input class="noteField" type="text" id="noteFri" /> 
          <input type="submit" value="Add Task Friday"/>
            <ul id="listFri">
              <li>Filler example text</li>
            </ul>
        </form>
        
        <br>

        <h2>Saturday</h2>
        <form id="saturdayForm" action="/addTask" method="post">
          <label for="noteSat">Add Some Tasks: </label>
          <input class="noteField" type="text" id="noteSat" /> 
          <input type="submit" value="Add Task Saturday"/>
            <ul id="listSat">
              <li>Filler example text</li>
            </ul>
        </form>
    </div>
  </div>

</body>
</html>
